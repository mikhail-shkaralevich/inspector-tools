<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Unit Conversions</title>
    <style>
        body {
            margin-top: 40px;
        }
        .converter {
            margin: 20px;
        }
        .converter label {
            display: block;
            margin: 10px 0 5px;
            font-weight: bold;
        }
        .converter input[type="radio"] {
            margin-right: 10px;
        }
        .converter select,
        .converter input[type="text"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .converter button {
            padding: 10px 20px;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
        }
        .converter button.convert { background-color: #007bff; }
        .converter button.convert:hover { background-color: #0056b3; }
        .converter button.swap { background-color: #8a2be2; }
        .converter button.swap:hover { background-color: #7b1fa2; }
        .converter button.reset { background-color: #ff0000; }
        .converter button.reset:hover { background-color: #cc0000; }
        .result {
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
        }
        .keypad {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 3px;
            max-width: 300px;
            margin: 0 0 15px 0;
            text-align: center;
        }
        .key {
            padding: 10px;
            background-color: #f0f0f0;
            border: 1px solid #ccc;
            cursor: pointer;
            font-size: 16px;
        }
        .key:hover {
            background-color: #e0e0e0;
        }
        .keyboard-controls {
            position: absolute;
            top: 0;
            left: 150px;
            z-index: 1000;
        }
        .keyboard-btn {
            background-color: #2c3e50;
            color: white;
            padding: 8px 12px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            margin-right: 5px;
            border-radius: 5px;
        }
        .keyboard-btn:hover {
            background-color: #34495e;
        }
    </style>
</head>
<body>
    <div class="keyboard-controls">
        <button class="keyboard-btn" id="toggle-keyboard" onclick="toggleKeyboard()">Disable Keyboard</button>
    </div>

    <h2>Unit Conversions</h2>
    <p>Convert measurements for Mass, Volume, Density, Distance, or Speed.</p>
    <div class="converter">
        <label>Measurement Type:</label>
        <label><input type="radio" name="measurement-type" value="mass" checked> Mass</label>
        <label><input type="radio" name="measurement-type" value="volume"> Volume</label>
        <label><input type="radio" name="measurement-type" value="density"> Density</label>
        <label><input type="radio" name="measurement-type" value="distance"> Distance</label>
        <label><input type="radio" name="measurement-type" value="speed"> Speed</label>

        <label for="from-unit">From Unit:</label>
        <select id="from-unit"></select>

        <label for="to-unit">To Unit:</label>
        <select id="to-unit"></select>

        <label for="input-value">Input Value:</label>
        <input type="text" id="input-value" placeholder="Enter value" onfocus="setActiveInput(this)">

        <div class="keypad">
            <div class="key" onclick="addNumber('1')">1</div>
            <div class="key" onclick="addNumber('2')">2</div>
            <div class="key" onclick="addNumber('3')">3</div>
            <div class="key" onclick="addNumber('4')">4</div>
            <div class="key" onclick="addNumber('5')">5</div>
            <div class="key" onclick="addNumber('6')">6</div>
            <div class="key" onclick="addNumber('7')">7</div>
            <div class="key" onclick="addNumber('8')">8</div>
            <div class="key" onclick="addNumber('9')">9</div>
            <div class="key" onclick="addNumber('0')">0</div>
            <div class="key" onclick="addNumber('.')">.</div>
            <div class="key" onclick="clearInput()">C</div>
        </div>

        <button onclick="convertUnits()" class="convert">Convert</button>
        <button onclick="swapUnits()" class="swap">Swap Units</button>
        <button onclick="resetInput()" class="reset">Reset</button>

        <div class="result" id="result"></div>
    </div>

    <script>
        const units = {
            mass: [
                { name: "Kilograms (kg)", factor: 1 },
                { name: "Grams (g)", factor: 1000 },
                { name: "Pounds (lb)", factor: 2.20462 },
                { name: "Ounces (oz)", factor: 35.274 }
            ],
            volume: [
                { name: "Liters (L)", factor: 1 },
                { name: "Milliliters (mL)", factor: 1000 },
                { name: "Gallons (gal)", factor: 0.264172 },
                { name: "Cubic Meters (m³)", factor: 0.001 },
                { name: "Cubic Yards (yd³)", factor: 0.00130795 },
                { name: "Cubic Feet (ft³)", factor: 0.0353147 },
                { name: "Cubic Centimeters (cm³)", factor: 1000 }
            ],
            density: [
                { name: "Kilograms per Cubic Meter (kg/m³)", factor: 1 },
                { name: "Grams per Cubic Centimeter (g/cm³)", factor: 0.001 },
                { name: "Pounds per Cubic Foot (lb/ft³)", factor: 0.062428 }
            ],
            distance: [
                { name: "Meters (m)", factor: 1 },
                { name: "Kilometers (km)", factor: 0.001 },
                { name: "Miles (mi)", factor: 0.000621371 },
                { name: "Feet (ft)", factor: 3.28084 },
                { name: "Inches (in)", factor: 39.3701 }
            ],
            speed: [
                { name: "Meters per Second (m/s)", factor: 1 },
                { name: "Kilometers per Hour (km/h)", factor: 3.6 },
                { name: "Miles per Hour (mph)", factor: 2.23694 },
                { name: "Feet per Second (ft/s)", factor: 3.28084 }
            ]
        };

        const defaultUnits = {
            mass: { from: "Pounds (lb)", to: "Grams (g)" },
            volume: { from: "Cubic Yards (yd³)", to: "Cubic Feet (ft³)" },
            density: { from: "Grams per Cubic Centimeter (g/cm³)", to: "Pounds per Cubic Foot (lb/ft³)" },
            distance: { from: "Miles (mi)", to: "Feet (ft)" },
            speed: { from: "Meters per Second (m/s)", to: "Kilometers per Hour (km/h)" }
        };

        const measurementTypeRadios = document.querySelectorAll('input[name="measurement-type"]');
        const fromUnit = document.getElementById("from-unit");
        const toUnit = document.getElementById("to-unit");
        const inputValue = document.getElementById("input-value");
        const result = document.getElementById("result");
        const toggleButton = document.getElementById("toggle-keyboard");

        let activeInput = null;
        let isKeyboardDisabled = false;

        function setActiveInput(input) {
            activeInput = input;
        }

        function addNumber(num) {
            if (activeInput) {
                let currentValue = activeInput.value || '';
                if (num === '.' && currentValue.includes('.')) {
                    return; // Prevent multiple decimal points
                }
                activeInput.value = currentValue + num;
            }
        }

        function clearInput() {
            if (activeInput) {
                activeInput.value = '';
                result.innerText = '';
            }
        }

        function populateUnits() {
            const selectedType = document.querySelector('input[name="measurement-type"]:checked').value;
            const unitList = units[selectedType];
            inputValue.value = "";
            fromUnit.innerHTML = unitList.map(unit => `<option value="${unit.factor}" ${unit.name === defaultUnits[selectedType].from ? "selected" : ""}>${unit.name}</option>`).join("");
            toUnit.innerHTML = unitList.map(unit => `<option value="${unit.factor}" ${unit.name === defaultUnits[selectedType].to ? "selected" : ""}>${unit.name}</option>`).join("");
        }

        measurementTypeRadios.forEach(radio => {
            radio.addEventListener("change", () => {
                populateUnits();
                result.innerText = '';
            });
        });

        populateUnits();

        function convertUnits() {
            const inputValueNum = parseFloat(inputValue.value);
            const fromFactor = parseFloat(fromUnit.value);
            const toFactor = parseFloat(toUnit.value);
            const toUnitName = toUnit.options[toUnit.selectedIndex].text;

            if (isNaN(inputValueNum)) {
                result.innerText = "Please enter a valid number.";
                result.style.color = "red";
                return;
            }

            const convertedValue = (inputValueNum / fromFactor) * toFactor;
            result.innerText = `Result: ${convertedValue.toFixed(4)} ${toUnitName}`;
            result.style.color = "green";
        }

        function resetInput() {
            inputValue.value = "";
            result.innerText = "";
        }

        function swapUnits() {
            const fromIndex = fromUnit.selectedIndex;
            const toIndex = toUnit.selectedIndex;
            fromUnit.selectedIndex = toIndex;
            toUnit.selectedIndex = fromIndex;
            if (inputValue.value) {
                convertUnits();
            }
        }

        // Toggle Keyboard Function
        function toggleKeyboard() {
            isKeyboardDisabled = !isKeyboardDisabled;
            if (isKeyboardDisabled) {
                toggleButton.textContent = "Enable Keyboard";
                inputValue.style.backgroundColor = '#e0e0e0'; // Visual feedback
            } else {
                toggleButton.textContent = "Disable Keyboard";
                inputValue.style.backgroundColor = ''; // Reset to default
                inputValue.focus(); // Optional: Focus on the input
            }
        }

        // Prevent physical keyboard input when disabled
        inputValue.addEventListener('keydown', function(event) {
            if (isKeyboardDisabled) {
                event.preventDefault();
            }
        });
    </script>
</body>
</html>